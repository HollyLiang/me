import{a as W,b as V}from"./chunk-HVEBGNWP.js";import{b as H}from"./chunk-YWXZT3G3.js";import{C as N,D as j,H as U,K as B,a as S,b as R,j as w,l as b,m as x,n as F,q as z,r as A,v as P}from"./chunk-WCM3HR3F.js";import{$ as m,$b as G,Ga as u,Pa as r,Qa as a,Ra as c,Rb as y,U as C,Ya as f,Yb as M,Zb as q,aa as v,ac as _,gb as s,hb as E,kb as I,lb as D,mb as L,pb as O,qb as k,ra as T,sa as d,ta as p}from"./chunk-JXSNNN5X.js";var ee=()=>["root","page1"],te=i=>({dialog:i}),oe=i=>({outlets:i}),ie=i=>[i],J=(()=>{let e=class e{constructor(){}ngOnInit(){}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m({type:e,selectors:[["app-router-outlet"]],decls:6,vars:8,consts:[[3,"routerLink"],["name","dialog"]],template:function(t,n){t&1&&(s(0,"Router outlet component"),c(1,"br"),r(2,"a",0),s(3,"Show page1 by routing"),a(),c(4,"br")(5,"router-outlet",1)),t&2&&(d(2),u("routerLink",k(6,ie,k(4,oe,k(2,te,O(1,ee))))))},dependencies:[q,G]});let i=e;return i})();var K=(()=>{let e=class e{constructor(o){this.dialog=o}ngOnInit(){}onOpenDialog(){this.dialog.open(J)}};e.\u0275fac=function(t){return new(t||e)(p(U))},e.\u0275cmp=m({type:e,selectors:[["app-dialog"]],decls:3,vars:0,consts:[[1,"container"],["mat-button","","color","primary",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"button",1),f("click",function(){return n.onOpenDialog()}),s(2,"Open Dialog"),a()())},dependencies:[S]});let i=e;return i})();var Q=(()=>{let e=class e{constructor(o,t,n){this.http=o,this.fb=t,this.route=n,this.REDIRECT_URL="http://10.8.0.101/research/oauth",this.initForm(),this.initParams()}initForm(){this.form=this.fb.group({clientId:"",clientSecret:"",code:"",accessToken:"",message:"Hello World!"})}initParams(){let o=this.route.snapshot.queryParams;console.log(o),o?.code&&this.getAccessToken(o.code)}ngOnInit(){}getAccessToken(o){this.form.controls.code.setValue(o);let t=this.form.value,n={code:this.code,redirectUri:this.REDIRECT_URL,clientId:t.clientId,clientSecret:t.clientSecret};this.http.post("http://localhost:5031/Line/Notify/oauth",n).subscribe(l=>{console.log(l),this.form.controls.accessToken.setValue(l.access_token)})}onCreateAccessTokenClick(){let n=`https://notify-bot.line.me/oauth/authorize?${["response_type=code",`client_id=${this.form.value.clientId}`,"state=123123","scope=notify",`redirect_uri=${this.REDIRECT_URL}`].join("&")}`;window.open(n,"_blank")}onSendMsgClick(){let o=this.form.value,t={accessToken:o.accessToken,message:o.message};this.http.post("http://localhost:5031/Line/Notify/message",t).subscribe(n=>{console.log(n)})}onLineLoginClick(){let o=this.form.value,n=`https://access.line.me/oauth2/v2.1/authorize?${["response_type=code","client_id=","state=123123","scope=profile%20openid	","redirect_uri=","nonce="].join("&")}`;window.open(n,"_blank")}};e.\u0275fac=function(t){return new(t||e)(p(y),p(P),p(M))},e.\u0275cmp=m({type:e,selectors:[["app-training-oauth"]],decls:18,vars:1,consts:[[1,"container",3,"formGroup"],[3,"click"],[1,"w100"],["matInput","","placeholder","Client ID","autocomplete","off","formControlName","clientId"],["matInput","","placeholder","Client Secret","autocomplete","off","formControlName","clientSecret"],["mat-button","","color","primary",3,"click"],[1,"w100","margin-top-5x"],["matInput","","placeholder","Code","readonly","true","formControlName","code"],["matInput","","placeholder","Access Token","autocomplete","off","formControlName","accessToken"],["matInput","","placeholder","Message","autocomplete","off","formControlName","message"],["mat-button","","mat-button-raised","","color","primary",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"a",1),f("click",function(){return n.onLineLoginClick()}),s(2,"Line Login"),a(),r(3,"mat-card")(4,"mat-form-field",2),c(5,"input",3),a(),r(6,"mat-form-field",2),c(7,"input",4),a(),r(8,"button",5),f("click",function(){return n.onCreateAccessTokenClick()}),s(9,"Create Access Token"),a(),r(10,"mat-form-field",6),c(11,"input",7),a(),r(12,"mat-form-field",2),c(13,"input",8),a(),r(14,"mat-form-field",2),c(15,"input",9),a(),r(16,"button",10),f("click",function(){return n.onSendMsgClick()}),s(17,"Send Message"),a()()()),t&2&&u("formGroup",n.form)},dependencies:[w,b,x,z,A,S,R,N,j],encapsulation:2});let i=e;return i})();var X=(()=>{let e=class e{constructor(o,t){this.http=o,this.route=t,this.REDIRECT_URL="http://10.8.0.101/research/oauth/line/login",this.initParams()}initParams(){let o=this.route.snapshot.queryParams;console.log(o),o?.code&&this.getAccessToken(o.code)}ngOnInit(){}getAccessToken(o){let t={code:o,redirectUri:this.REDIRECT_URL};this.http.post("http://localhost:5031/Line/login/token",t).subscribe(n=>{console.log(n),this.http.get("https://api.line.me/v2/profile",{headers:{Authorization:n.token_type+" "+n.access_token}}).subscribe(l=>{this.profile=l})})}};e.\u0275fac=function(t){return new(t||e)(p(y),p(M))},e.\u0275cmp=m({type:e,selectors:[["app-oauth-line-login"]],decls:4,vars:2,consts:[[1,"container","text-center"],[1,"border-radius-50",2,"width","200px",3,"src"]],template:function(t,n){t&1&&(r(0,"div",0),c(1,"img",1),r(2,"h1"),s(3),a()()),t&2&&(d(),u("src",n.profile==null?null:n.profile.pictureUrl,T),d(2),E(n.profile==null?null:n.profile.displayName))},encapsulation:2});let i=e;return i})();var Y=(()=>{let e=class e{constructor(){this.fontSize=10,this.mdThemeColor=`
  \`\`\`css
  .theme-section {
    padding: 16px;
    color: var(--foreground-color);
    background-color: var(--background-color);
  }

  .light {
    --foreground-color: #333;
    --background-color: #fff;
  }

  .dark {
    --foreground-color: #fff;
    --background-color: #333;
  }
\`\`\`
`}ngOnInit(){}onFontSizeChange(o){console.log(o),document.documentElement.style.fontSize=o+"px",document.documentElement.style.lineHeight=o+"px"}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m({type:e,selectors:[["app-research-theme"]],decls:21,vars:2,consts:[[1,"container"],["step","1","min","10","max","20","thumbLabel","true",3,"ngModelChange","ngModel"],[1,"basic-font-size"],[1,"large-font-size"],[1,"margin-top-4x"],[1,"row"],[1,"col-6","theme-section","light"],[1,"col-6","theme-section","dark"],["markdown","",3,"data"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"section")(2,"h2"),s(3,"Dynamic Font Size"),a(),r(4,"div")(5,"mat-slider",1),L("ngModelChange",function(g){return D(n.fontSize,g)||(n.fontSize=g),g}),f("ngModelChange",function(g){return n.onFontSizeChange(g)}),a()(),r(6,"div",2),s(7,"Basic size"),a(),r(8,"div",3),s(9,"Large size"),a()(),r(10,"section",4)(11,"h2"),s(12,"CSS var()"),a(),r(13,"div",5)(14,"div",6),s(15,"Light color"),a(),r(16,"div",7),s(17,"Dark color"),a()(),r(18,"div",5)(19,"div",8),s(20,`

    `),a()()()()),t&2&&(d(5),I("ngModel",n.fontSize),d(14),u("data",n.mdThemeColor))},dependencies:[b,F,B,W],styles:["[_nghost-%COMP%]     .basic-font-size{font-size:1.6rem;line-height:1.8rem}[_nghost-%COMP%]     .large-font-size{font-size:2rem;line-height:2.2rem}[_nghost-%COMP%]     .theme-section{padding:16px;color:var(--foreground-color);background-color:var(--background-color)}[_nghost-%COMP%]     .light{--foreground-color: #333;--background-color: #fff}[_nghost-%COMP%]     .dark{--foreground-color: #fff;--background-color: #333}"]});let i=e;return i})();var se=[{path:"",redirectTo:"/dialog",pathMatch:"full"},{path:"dialog",component:K,pathMatch:"full"},{path:"oauth",children:[{path:"",component:Q},{path:"line",children:[{path:"login",component:X}]}]},{path:"theme",component:Y}],Z=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=v({type:e}),e.\u0275inj=C({imports:[_.forChild(se),_]});let i=e;return i})();var je=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=v({type:e}),e.\u0275inj=C({imports:[H,Z,V.forChild()]});let i=e;return i})();export{je as ResearchModule};
