import{d as H,e as j,f as D,g as V}from"./chunk-JM2GI3UW.js";import{a as N,b as F}from"./chunk-5R7H3THG.js";import{D as k,Ha as f,Ma as s,Ob as y,Qb as w,Rb as E,Ua as r,Va as l,Vb as I,W as o,Z as p,_a as g,bb as m,da as d,db as _,ea as u,eb as C,fb as v,hc as O,jc as P,k as T,na as h,nb as x,ob as A,ua as a,wb as M,xb as b}from"./chunk-FSJNGWZP.js";var $=["*"],z=i=>({active:i});function B(i,S){if(i&1){let t=g();r(0,"a",4),m("click",function(){let n=d(t).$implicit,c=_();return u(c.onItemClick(n))}),x(1),l()}if(i&2){let t=S.$implicit;s("ngClass",b(2,z,t.isActive)),a(),A(t.text)}}var ot=(()=>{class i{constructor(){this.el=o(h),this.route=o(O),this.scrollSubject=new T,this.outline=[]}onHostScroll(t){t.target===this.el.nativeElement&&this.scrollSubject.next(t)}ngAfterContentInit(){this.setIdAndText(),this.listenScroll(),setTimeout(()=>{this.setItemTop(),this.scrollToFragment()},1e3)}ngOnDestroy(){this.scrollSubscription?.unsubscribe()}setIdAndText(){this.el.nativeElement.querySelectorAll("h2").forEach(e=>{this.outline.push({text:e.textContent||"",top:0,isActive:!1})}),this.outline.length>0&&(this.outline[0].isActive=!0)}listenScroll(){this.scrollSubscription=this.scrollSubject.pipe(k(50)).subscribe(t=>{let e=t.target.scrollTop;this.setActiveItem(e)})}setItemTop(){let t=this.el.nativeElement.querySelectorAll("h2");this.outline.forEach((e,n)=>{let c=t[n];c&&(e.top=c.offsetTop||0)})}scrollToFragment(){let t=this.route.snapshot.fragment,e=this.el.nativeElement.querySelector(`#${t}`);e&&e.scrollIntoView()}clearActiveItems(){this.outline.forEach(t=>t.isActive=!1)}setActiveItem(t){this.clearActiveItems();let e=0;for(let n=0;n<this.outline.length&&t>=this.outline[n].top-window.innerHeight/2;n++)e=n;this.outline[e]&&(this.outline[e].isActive=!0)}onItemClick(t){t.isActive||(this.clearActiveItems(),t.isActive=!0,this.el.nativeElement.scrollTo({top:t.top-20,behavior:"smooth"}))}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=p({type:i,selectors:[["app-note-outline"]],hostBindings:function(e,n){e&1&&m("scroll",function(L){return n.onHostScroll(L)})},standalone:!0,features:[M],ngContentSelectors:$,decls:6,vars:1,consts:[[1,"notes","container","d-flex"],[1,"flex-1"],[1,"outline-content"],["mat-list-item","",3,"ngClass","click",4,"ngFor","ngForOf"],["mat-list-item","",3,"click","ngClass"]],template:function(e,n){e&1&&(C(),r(0,"div",0)(1,"article",1),v(2),l(),r(3,"section",2)(4,"mat-list"),f(5,B,2,4,"a",3),l()()()),e&2&&(a(5),s("ngForOf",n.outline))},dependencies:[I,y,w,V,j,D,H],styles:["[_nghost-%COMP%]    {display:block;height:100%;overflow:auto}[_nghost-%COMP%]     .notes{align-items:flex-start}[_nghost-%COMP%]     .notes article{padding-top:2rem}[_nghost-%COMP%]     .notes article .note-sections>*{display:block;padding:1rem 0 3rem}[_nghost-%COMP%]     .notes .outline-content{margin-left:2rem;width:200px;position:sticky;top:.5rem;box-shadow:0 2px 4px #0000004d;border-radius:5px}[_nghost-%COMP%]     .notes .outline-content .mdc-list a.mdc-list-item{font-size:2.2rem;height:3rem;border-left:2px solid transparent}[_nghost-%COMP%]     .notes .outline-content .mdc-list a.mdc-list-item.active{background-color:#d9d9ee;border-color:#8c8cee}[_nghost-%COMP%]     .notes .outline-content .mdc-list a.mdc-list-item.active:hover{background-color:#cdcdeb}[_nghost-%COMP%]     .notes .outline-content .mdc-list a.mdc-list-item.active .mdc-list-item__primary-text{color:#393981;font-weight:600}"]})}}return i})();var G=["*"],J=i=>({h2:i});function K(i,S){if(i&1){let t=g();r(0,"mat-icon",2),m("click",function(){d(t);let n=_();return u(n.onClick())}),x(1,"link"),l()}i&2&&s("inline",!0)}var dt=(()=>{class i{constructor(){this.el=o(h),this.router=o(P),this.route=o(O)}ngAfterContentInit(){let t=this.el.nativeElement.querySelector("h1"),e=this.el.nativeElement.querySelector("h2");this.isHeading1=t!==null,this.anchorId=`${t?.innerText||e?.innerText}`.replace(/ /g,"").toLowerCase()}onClick(){this.isHeading1||this.router.navigate([],{fragment:this.anchorId,relativeTo:this.route})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=p({type:i,selectors:[["app-note-title"]],standalone:!0,features:[M],ngContentSelectors:G,decls:3,vars:5,consts:[[3,"ngClass","id"],[3,"inline","click",4,"ngIf"],[3,"click","inline"]],template:function(e,n){e&1&&(C(),r(0,"div",0),v(1),f(2,K,2,1,"mat-icon",1),l()),e&2&&(s("ngClass",b(3,J,!n.isHeading1))("id",n.anchorId),a(2),s("ngIf",!n.isHeading1))},dependencies:[I,y,E,F,N],styles:["[_nghost-%COMP%]    {display:block}[_nghost-%COMP%]     .h2{margin-bottom:1rem;padding:.5rem 1rem;border-radius:5px;color:#333;background-color:var(--border-color);display:flex;align-items:center}[_nghost-%COMP%]     .h2 .mat-icon{margin-left:.5rem;color:#999;font-size:18px;display:none;cursor:pointer}[_nghost-%COMP%]     .h2:hover .mat-icon{display:inline}[_nghost-%COMP%]     h1{font-size:4rem;font-weight:600}[_nghost-%COMP%]     h1, [_nghost-%COMP%]     h2{display:inline;margin-bottom:0}"]})}}return i})();export{ot as a,dt as b};
